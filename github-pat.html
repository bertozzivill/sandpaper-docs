<!-- START: inst/pkgdown/templates/layout.html -->
<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- START: inst/pkgdown/templates/head.html -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta http-equiv="last-modified" content="2021-08-16 17:07:55 +0000">



<title>Introduction to the New Lesson Template: Setting Up a Personal Access Token via R</title>

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="favicons/cp/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="favicons/cp/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="favicons/cp/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="favicons/cp/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="favicons/cp/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="favicons/cp/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicons/cp/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicons/cp/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-128.png" sizes="128x128" />

<meta name="application-name" content="The Carpentries - Introduction to the New Lesson Template"/>

<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="favicons/cp/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="favicons/cp/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="favicons/cp/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="favicons/cp/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="favicons/cp/mstile-310x310.png" />



<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>

<!--carpentries-->
<link href="css/syntax.css" rel="stylesheet">
<link href="css/lesson.css" rel="stylesheet">
<script src="js/lesson.js"></script>




<meta property="og:title" content="Setting Up a Personal Access Token via R" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- END:   inst/pkgdown/templates/head.html-->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <!-- START: inst/pkgdown/templates/navbar.html -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Home</a>
        <!-- TODO: the logo is not centered in the nav bar and looks ugly... also there needs to be a better way of choosing the logo... probably on the R side.-->
        <a href="https://carpentries.org" class="pull-left">
          <img class="navbar-logo" src="img/cp-icon-blue.svg" alt="The Carpentries logo" />
        </a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="CODE_OF_CONDUCT.html">Code of Conduct</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Episodes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="introduction.html">Introduction to the New Template</a>
    </li>
    <li>
      <a href="episodes.html">Episode Structure</a>
    </li>
    <li>
      <a href="editing.html">Editing a {sandpaper} lesson</a>
    </li>
    <li>
      <a href="example.html">EXAMPLE: Using RMarkdown</a>
    </li>
    <li>
      <a href="deployment.html">Lesson Deployment</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    For Learners
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="setup.html">Setup</a>
    </li>
    <li>
      <a href="github-pat.html">Setting Up a Personal Access Token via R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    For Instructors
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="notes.html">Instructor Notes</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Learner Profiles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="maintainer.html">Maintainer Profiles</a>
    </li>
    <li>
      <a href="instructor.html">Instructor Profiles</a>
    </li>
  </ul>
</li>
<li>
  <a href="LICENSE.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

      <!--START: inst/pkgdown/templates/header.html-->


    <div class="panel panel-default life-cycle">
      <div id="life-cycle" class="panel-body pre-alpha">
         This lesson is still being designed and assembled (Pre-Alpha version) 
        
        
      </div>
    </div>


<!--END  : inst/pkgdown/templates/header.html-->

      </header>

<!-- START: inst/pkgdown/templates/content-title-body.html -->
<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Setting Up a Personal Access Token via R</h1>
    </div>

<div id="i-use-ssh-why-should-i-use-https" class="section level2">
<h2>I use SSH, Why should I use HTTPS?</h2>
<p>GitHub has announced that <a href="https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/">passwords will no longer be used for authentication from the command line starting in August 2021</a>. While you may or may not be comfortable with SSH, here a few things that may motivate you:</p>
<ol style="list-style-type: decimal">
<li>HTTPS is recommended by both GitHub and RStudio for people starting with R, so switching to HTTPS will help you empathize and demonstrate the ropes to learners in the long run.</li>
<li>HTTPS gives you more fine-grained control over what access each token gives.</li>
<li><a href="https://rstudio.cloud">RStudio Cloud</a> is a really good platform that can connect to your GitHub account if you need to work on lesson development when you don’t have your computer handy. You cannot use SSH with that service, but it is possible to access it via HTTPS.</li>
<li>You can connect to the GitHub API with a higher rate limit, which means that you can auto-create remote repositories and analyze GitHub data without a web browser.</li>
</ol>
</div>
<div id="verifying-your-git-situation" class="section level2">
<h2>Verifying Your Git Situation</h2>
<p>To confirm that your Git session is correctly configured, open RStudio, and run the following line to check if your HTTPS credentials are set up properly:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;usethis&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git_sitrep</span>() <span class="co"># git situation report</span></span></code></pre></div>
<p>Pay attention to the <strong>GitHub</strong> report. What does it look like?</p>
<div id="github-connected-via-pat" class="section level3">
<h3>GitHub connected via PAT</h3>
<pre class="output"><code>Git config (global)
● Name: &#39;Zhian N. Kamvar&#39;
● Email: &#39;zkamvar@gmail.com&#39;
● Vaccinated: FALSE
ℹ See `?git_vaccinate` to learn more
● Default Git protocol: &#39;ssh&#39;
GitHub
● Default GitHub host: &#39;https://github.com&#39;
● Personal access token for &#39;https://github.com&#39;: &#39;&lt;discovered&gt;&#39;
● GitHub user: &#39;zkamvar&#39;
● Token scopes: &#39;gist, repo, user, workflow&#39;
● Email(s): &#39;zkamvar@gmail.com (primary)&#39;, ...
Git repo for current project
ℹ No active usethis project</code></pre>
<p>If your output looks like this, then you are properly set up and you are good to go! If not, read on!</p>
</div>
</div>
<div id="creating-a-new-github-personal-access-token" class="section level2">
<h2>Creating a New GitHub Personal Access Token</h2>
<p>If you see errors associated with your GitHub token (see below, e.g. ‘Token is invalid’ or ‘Can’t retrieve registered email address(es)’), then you should create a new one. Dr. Jenny Bryan wrote <a href="https://happygitwithr.com/credential-caching.html#how-to-manage-a-pat">an excellent resource for creating and caching your GitHub credentials on your computer</a> that will walk you through the process of generating a PAT, and storing it in a secure location. Here are the steps briefly via R:</p>
<ol style="list-style-type: decimal">
<li>Create a GitHub PAT via R with <code>usethis::create_github_token()</code> (this will open a page in your browser pre-populated with the appropriate scopes. If this does not work, <a href="https://github.com/settings/tokens/new?scopes=repo,user,gist,workflow&amp;description=R:GITHUB_PAT">use this link to generate a new token for R</a>.)</li>
<li>Copy and store the token in a password manager (Lastpass, 1Password)</li>
<li>Back in R, use <code>gitcreds::gitcreds_set()</code> to register your token with git.</li>
<li>Check your credentials again with <code>usethis::git_sitrep()</code></li>
</ol>
<p>At this point, you should have things set up properly. If you are still having problems, you can try the following two steps (after you have your PAT):</p>
<ol style="list-style-type: decimal">
<li>in R, use <code>credentials::git_credentials_forget()</code> to clear the cache</li>
<li>use <code>credentials::set_github_pat()</code> and paste your token.</li>
</ol>
<div id="common-token-errors" class="section level3 discussion">
<h3>Common Token Errors</h3>
<p>There are a few possible errors you might see, but the remedy is always the same: get a new token and register it in your credentials keychain.</p>
<div id="invalid-personal-access-token" class="section level4">
<h4>Invalid Personal Access Token</h4>
<p>Invalid tokens can come from old tokens that were deleted from your GitHub account.</p>
<pre class="output"><code>Git config (global)
● Name: &#39;Zhian N. Kamvar&#39;
● Email: &#39;zkamvar@gmail.com&#39;
● Vaccinated: FALSE
ℹ See `?git_vaccinate` to learn more
● Default Git protocol: &#39;ssh&#39;
GitHub
● Default GitHub host: &#39;https://github.com&#39;
● Personal access token for &#39;https://github.com&#39;: &#39;&lt;discovered&gt;&#39;
✖ Token is invalid
✖ Can&#39;t retrieve registered email address(es)
  If you are troubleshooting, check GitHub host, token, and token scopes
Git repo for current project
ℹ No active usethis projectw</code></pre>
</div>
<div id="password-as-token" class="section level4">
<h4>Password as Token</h4>
<p>This error often means that you have your password stored in your keychain instead of your token. This seems like a weird error until you realize that GitHub will stop allowing password authentication from the command line in August 2021.</p>
<pre class="output"><code>Git config (global)
● Name: &#39;Zhian N. Kamvar&#39;
● Email: &#39;zkamvar@gmail.com&#39;
● Vaccinated: FALSE
ℹ See `?git_vaccinate` to learn more
● Default Git protocol: &#39;ssh&#39;
GitHub
● Default GitHub host: &#39;https://github.com&#39;
Error: GitHub PAT must have one of these forms:
  * 40 hexadecimal digits (older PATs)
  * A &#39;ghp_&#39; prefix followed by 36 to 251 more characters (newer PATs)
Type .Last.error.trace to see where the error occured</code></pre>
</div>
<div id="no-personal-access-token-detected" class="section level4">
<h4>No Personal Access Token Detected</h4>
<p>This means you have not registered a Personal Access Token with git and are good to start fresh!</p>
<pre class="output"><code>● Name: &#39;Zhian N. Kamvar&#39;
● Email: &#39;zkamvar@gmail.com&#39;
● Vaccinated: FALSE
ℹ See `?git_vaccinate` to learn more
● Default Git protocol: &#39;ssh&#39;
GitHub
● Default GitHub host: &#39;https://github.com&#39;
● Personal access token for &#39;https://github.com&#39;: &lt;unset&gt;
✖ Call `gh_token_help()` for help configuring a token
Git repo for current project
ℹ No active usethis project</code></pre>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


<!-- END:   inst/pkgdown/templates/content-title-body.html-->


      <footer>
      <!-- START: inst/pkgdown/templates/footer.html -->
<div class="container">
  <div class="row">
    <div class="col-xs-1">
      <h3 class="text-left">
        <a href="index.html"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      </h3>
    </div>
    <div class="col-xs-10">
      <h3 class="maintitle"><a href="index.html">Introduction to the New Lesson Template</a></h3>
    </div>
    <div class="col-xs-1">
      <h3 class="text-right">
        <a href="index.html"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      </h3>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
      Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY 4.0</a> 2018–2021
      by <a href="https://carpentries.org">The Carpentries</a>
      <br>
      Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY 4.0</a> 2016–2018
      by <a href="https://softwarecarpentry.org">Software Carpentry Foundation</a>
    </div>
    <div class="col-md-6 help-links pull-right" align="right">
      <a href="https://github.com/carpentries/sandpaper-docs//edit/main/learners/github-pat.md" data-checker-ignore>Edit on GitHub</a>
      /
      <a href="https://github.com/carpentries/sandpaper-docs//blob/main/CONTRIBUTING.md" data-checker-ignore>Contributing</a>
      /
      <a href="https://github.com/carpentries/sandpaper-docs//">Source</a>
      /
      <a href="https://github.com/carpentries/sandpaper-docs//blob/main/CITATION" data-checker-ignore>Cite</a>
      /
      <a href="mailto:zkamvar@carpentries.org">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/zkamvar/sandpaper">{sandpaper}</a>
      and <a href="https://github.com/zkamvar/varnish">{varnish}</a>.
    </div>
  </div>
</div>
<!-- END:   inst/pkgdown/templates/footer.html-->

      </footer>
   </div>

  <!-- START: inst/pkgdown/templates/docsearch.html -->

<!-- END:   inst/pkgdown/templates/docsearch.html-->


  </body>
</html>

<!-- END:   inst/pkgdown/templates/layout.html-->

